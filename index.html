<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SDK رسمی ایتا (باید قبل از هرچیز لود شود) -->
<script src="https://developer.eitaa.com/eitaa-web-app.js"></script>

<title>منوی بازی‌ها</title>

<style>
/* ———— تمام استایل‌های نسخه اصلی ———— */

:root{
  --card-bg:#fff;
  --page-bg:#f0f2f5;
  --accent:#2b6cb0;
  --text:#222;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:"Segoe UI", Tahoma, Arial, sans-serif;
  background:var(--page-bg);
  color:var(--text);
  overflow-x:hidden;
}
.container{max-width:1200px;margin:0 auto;padding:20px;}
header{text-align:center;margin-bottom:18px;}
h1#pagetitle{margin:6px 0 0 0;font-size:28px;transition: color .3s;}
p{margin:6px 0 12px 0;font-size:16px;}
.menu{display:flex;gap:18px;justify-content:center;flex-wrap:wrap;perspective:1000px;}
.card{
  width:180px;
  background:linear-gradient(145deg,#fff,#e6e9f0);
  border-radius:20px;
  box-shadow:0 4px 12px rgba(0,0,0,0.06), 0 12px 24px rgba(0,0,0,0.1);
  overflow:hidden;
  text-decoration:none;
  color:inherit;
  cursor:pointer;
  transition:transform .35s ease,box-shadow .35s ease,background .5s;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:12px;
  opacity:0;
  transform:translateY(30px);
  background-size:200% 200%;
  animation:gradientShift 6s ease infinite;
}
@keyframes gradientShift{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.card.show{opacity:1;transform:translateY(0);}
.card:hover{
  transform:translateY(-6px) rotateX(3deg) rotateY(3deg) scale(1.05);
  box-shadow:0 16px 32px rgba(0,0,0,0.2);
}
.image-box{
  width:100%;height:130px;border-radius:12px;
  display:flex;align-items:center;justify-content:center;
  text-align:center;padding:6px;
}
.label{font-weight:600;font-size:18px;margin-top:6px;}

.page{display:none;}
.active{display:block;}

.iframe-wrap{width:100%;height:70vh;border-radius:12px;overflow:hidden;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.06);position:relative;}
.back{display:inline-block;margin:12px 6px 30px 6px;padding:8px 14px;border-radius:10px;background:var(--accent);color:#fff;text-decoration:none;font-weight:600;cursor:pointer;}
.fullscreen-btn{padding:8px 14px;background:var(--accent);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:600;margin:12px 0 20px;}

@media(max-width:600px){.card{width:46%;}}

#splash{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:linear-gradient(135deg,#fdfbfb,#ebedee);
  display:flex;align-items:center;justify-content:center;
  z-index:9999;opacity:1;
}
#splash.hidden{opacity:0;pointer-events:none;transition:opacity .8s;}

.logo-container{display:flex;align-items:center;font-size:72px;font-weight:bold;}
.icon-box{
  width:100px;height:100px;border:8px solid #007bff;border-radius:20px;
  margin-left:15px;color:#007bff;display:flex;align-items:center;justify-content:center;
  animation:bounce 1.2s infinite alternate;
}
@keyframes bounce{
  0%{transform:scale(1) translateY(0);}
  50%{transform:scale(1.1) translateY(-12px);}
  100%{transform:scale(1) translateY(0);}
}
.text-arvin{color:#102341;letter-spacing:2px;text-shadow:0 2px 6px rgba(0,0,0,0.2);}
</style>
</head>

<body>

<!-- Splash -->
<div id="splash">
  <div class="logo-container">
    <div class="icon-box">&lt;/&gt;</div>
    <div class="text-arvin">ARVIN</div>
  </div>
</div>

<div class="container">

<header>
  <h1 id="pagetitle">منوی بازی‌ها</h1>
  <p>روی کارت بازی موردنظر کلیک کنید</p>
</header>

<!-- صفحه اصلی -->
<div id="menu" class="active page">
  <div class="menu">

    <!-- کارت دوز (دقیقاً نسخه اصلی تو) -->
    <div class="card" id="card1" onclick="openDoz()">
      <div class="image-box">
        <div class="board" style="display:grid; grid-template-columns:repeat(3,50px); grid-template-rows:repeat(3,50px); gap:5px; background:#c79a5d; padding:8px; border-radius:8px; box-shadow:0 0 5px #6a4b2c; transform:scale(0.85);">
          <div class="cell o" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#1da3dd;text-shadow:1px 1px 2px #0b5f8a">O</div>
          <div class="cell x" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#e63737;text-shadow:1px 1px 2px #742020">X</div>
          <div class="cell x" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#e63737;text-shadow:1px 1px 2px #742020">X</div>
          <div class="cell x" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#e63737;text-shadow:1px 1px 2px #742020">X</div>
          <div class="cell o" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#1da3dd;text-shadow:1px 1px 2px #0b5f8a">O</div>
          <div class="cell o" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#1da3dd;text-shadow:1px 1px 2px #0b5f8a">O</div>
          <div class="cell o" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#1da3dd;text-shadow:1px 1px 2px #0b5f8a">O</div>
          <div class="cell x" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#e63737;text-shadow:1px 1px 2px #742020">X</div>
          <div class="cell x" style="background:#e2b574;border-radius:5px;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:bold;color:#e63737;text-shadow:1px 1px 2px #742020">X</div>
        </div>
      </div>
      <div class="label">دوز</div>
    </div>

    <!-- کارت 2048 -->
    <div class="card" onclick="openPage('game2','2048')">
      <div class="image-box">
        <svg width="100%" height="130px" viewBox="0 0 200 200">
          <rect width="200" height="200" rx="25" fill="#f7c948"/>
          <text x="50%" y="55%" text-anchor="middle" font-size="64" fill="#fff" font-weight="bold">2048</text>
        </svg>
      </div>
      <div class="label">۲۰۴۸</div>
    </div>

    <div class="card" onclick="openPage('comingsoon','به‌زودی')">
      <div class="image-box">به‌زودی</div>
      <div class="label">به‌زودی</div>
    </div>

  </div>
</div>

<!-- صفحه 2048 -->
<div id="game2" class="page">
  <button class="fullscreen-btn" onclick="toggleFull('wrap2')">تمام صفحه</button>
  <div class="iframe-wrap" id="wrap2">
    <iframe src="https://pixelforge-ux.github.io/2048/" allowfullscreen style="width:100%;height:100%;border:0;"></iframe>
  </div>
  <div style="text-align:center;"><a class="back" onclick="backMenu()">بازگشت</a></div>
</div>

<!-- صفحه به‌زودی -->
<div id="comingsoon" class="page">
  <button class="fullscreen-btn" onclick="toggleFull('wrap3')">تمام صفحه</button>
  <div class="iframe-wrap" id="wrap3">
    <iframe srcdoc="<html><body style='margin:0;display:flex;justify-content:center;align-items:center;height:100vh;background:black;color:white;font-size:48px;'>به‌زودی...</body></html>" style="width:100%;height:100%;border:0;"></iframe>
  </div>
  <div style="text-align:center;"><a class="back" onclick="backMenu()">بازگشت</a></div>
</div>

</div>

<script>
/* فعال شدن SDK بعد از لود کامل */
document.addEventListener("DOMContentLoaded", () => {
    EitaaWebApp.ready();
    EitaaWebApp.expand();
});

/* Splash Animation */
window.onload = ()=>{
  setTimeout(()=>{
    document.getElementById("splash").classList.add("hidden");
    document.querySelectorAll(".card").forEach((c,i)=>setTimeout(()=>c.classList.add("show"), i*150));
  },2500);
};

/* Page Navigation */
function openPage(id,title){
  document.getElementById("menu").classList.remove("active");
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.getElementById("pagetitle").textContent = title;
}

function backMenu(){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById("menu").classList.add("active");
  document.getElementById("pagetitle").textContent = "منوی بازی‌ها";
}

/* Fullscreen Toggle */
function toggleFull(id){
  let el=document.getElementById(id);
  if(!document.fullscreenElement) el.requestFullscreen();
  else document.exitFullscreen();
}

/* ⭐ باز کردن دوز در مرورگر خارجی (کاملاً طبق SDK ایتا) */
function openDoz(){
    EitaaWebApp.openLink(
        "https://eitaa.com/store_app/app?startapp=app_126&btn=دوز",
        { try_instant_view:false }
    );
}

</script>

</body>

</html>
